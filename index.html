
<!DOCTYPE html>
<html lang="ka">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ვეფხისტყაოსნის ტესტი</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Fira+GO:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Fira GO', sans-serif;
            background: #f8fafc;
        }
        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: #f1f5f9;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 10px;
        }
    </style>
    <script type="importmap">
    {
      "imports": {
        "react": "https://esm.sh/react@18.2.0",
        "react-dom": "https://esm.sh/react-dom@18.2.0/client"
      }
    }
    </script>
<link rel="stylesheet" href="/index.css">
</head>
<body>
    <div id="root"></div>

    <script type="module">
        import React, { useState } from 'react';
        import ReactDOM from 'react-dom';

        const questions = [
          { id: 1, question: "როგორ შეხვდა როსტევანი ავთანდილს დაბრუნების შემდეგ?", options: ["რისხვითა და საყვედურით", "დიდი ზეიმითა და სიხარულით", "გულგრილად და უემოციოდ", "ეჭვითა და უნდობლობით"], correctAnswer: 1 },
          { id: 2, question: "რატომ გადაწყვიტა ავთანდილმა ტარიელთან დაბრუნება?", options: ["ტარიელმა წერილი გამოუგზავნა", "როსტევანმა დაავალა", "ძმობა და დახმარება ჰქონდა შეფიცული", "ნესტანის პოვნა სურდა თავისთვის"], correctAnswer: 2 },
          { id: 3, question: "რა რეაქცია ჰქონდა თინათინს ავთანდილის გადაწყვეტილებაზე?", options: ["მოუწონა და დაავალა სიტყვის შესრულება", "ატირდა და გაშვება არ უნდოდა", "დაუშალა წასვლა", "უპასუხოდ დატოვა მისი ნათქვამი"], correctAnswer: 0 },
          { id: 4, question: "ვისი მეშვეობით სცადა ავთანდილმა როსტევანისგან წასვლის ნებართვის აღება?", options: ["თინათინის", "შერმადინის", "ერთი გავლენიანი ვაზირის", "თავად მივიდა მეფესთან"], correctAnswer: 2 },
          { id: 5, question: "რა გააკეთა მეფემ ვაზირის თხოვნის მოსმენისას?", options: ["მაშინვე დათანხმდა", "დააჯილდოვა ვაზირი", "კინაღამ მოკლა ვაზირი", "საპატიმროში ჩასვა"], correctAnswer: 2 },
          { id: 6, question: "ვის დაუტოვა ავთანდილმა თავისი ანდერძი?", options: ["როსტევანს", "თინათინს", "ასმათს", "შერმადინს"], correctAnswer: 3 },
          { id: 7, question: "სად შევიდა ავთანდილი სალოცავად გამგზავრების წინ?", options: ["ეკლესიაში", "მიზგითში", "ტაძარში", "სამლოცველოში"], correctAnswer: 1 },
          { id: 8, question: "რა დახვდა ავთანდილს ტარიელის გამოქვაბულში მისვლისას?", options: ["მხოლოდ ტარიელი", "მხოლოდ ასმათი", "არავინ არ დახვდა", "ტარიელი და ნესტანი"], correctAnswer: 1 },
          { id: 9, question: "რა დაინახა ავთანდილმა სერიდან გადახედვისას?", options: ["ტარიელის ცხენი", "ასმათი", "მეკობრეები", "ფრიდონი"], correctAnswer: 0 },
          { id: 10, question: "რა ეყარა უგრძნობლად მყოფი ტარიელის აქეთ-იქით?", options: ["ორი ლომი", "ორი ვეფხი", "მკვდარი ლომი და ვეფხი", "დაჭრილი მონადირეები"], correctAnswer: 2 },
          { id: 11, question: "რამ დაითანხმა ტარიელი გამოქვაბულში დაბრუნებაზე?", options: ["ავთანდილის მუქარამ", "ასმათის სიბრალულმა", "ნესტანის ამბავმა", "შიმშილმა"], correctAnswer: 1 },
          { id: 12, question: "რა დრო მისცა ავთანდილმა თავის თავს ნესტანის საძებნელად?", options: ["სამი წელი", "ექვსი თვე", "ერთი წელი", "ასი დღე"], correctAnswer: 2 },
          { id: 13, question: "ვისთან გაემგზავრა ავთანდილი პირველად?", options: ["როსტევანთან", "ფრიდონთან მულღაზანზარს", "ბაღდადელ ვაჭრებთან", "ზღვათა მეფესთან"], correctAnswer: 1 },
          { id: 14, question: "როგორ მიიპყრო ავთანდილმა ფრიდონის მონადირეების ყურადღება?", options: ["დაუძახა მათ", "ესროლა ისარი მფრინავ ქორს", "ცხენით გადაუჭრა გზა", "დროშა ააფრიალა"], correctAnswer: 1 },
          { id: 15, question: "რამდენი წლის წინ დაშორებოდა ფრიდონი ტარიელს?", options: ["სამი წლის წინ", "ხუთი წლის წინ", "შვიდი წლის წინ", "ათი წლის წინ"], correctAnswer: 2 },
          { id: 16, question: "რა მისცა ფრიდონმა ავთანდილს გზის გასაგრძელებლად?", options: ["ოქრო და ვერცხლი", "ნავი და მეზღვაურები", "ოთხი საიმედო მონა და კარგი ცხენი", "რუკა და კომპასი"], correctAnswer: 2 },
          { id: 17, question: "რამდენი დღე იარა ავთანდილმა უშედეგოდ ვაჭართა ქარავნის ნახვამდე?", options: ["ორმოცი დღე", "სამოცი დღე", "ასი დღე", "ერთი წელი"], correctAnswer: 2 },
          { id: 18, question: "ვინ იყო ვაჭართა უფროსი?", options: ["უსამი", "შერმადინი", "როსტევანი", "ფრიდონი"], correctAnswer: 0 },
          { id: 19, question: "საიდან იყვნენ ვაჭრები?", options: ["ეგვიპტიდან", "ბაღდადიდან", "ინდოეთიდან", "არაბეთიდან"], correctAnswer: 1 },
          { id: 20, question: "რამ შეაშინა ბაღდადელი ვაჭრები?", options: ["ქარიშხალმა", "მეკობრეების თავდასხმის საფრთხემ", "გზის დაკარგვამ", "საკვების ნაკლებობამ"], correctAnswer: 1 },
          { id: 21, question: "რა იარაღით დაუპირისპირდნენ მეკობრეები ავთანდილის ნავს?", options: ["მშვილდ-ისრით", "ხმლებით", "სახნისიანი ძელით", "ცეცხლოვანი ბურთებით"], correctAnswer: 2 },
          { id: 22, question: "როგორ დაამარცხა ავთანდილმა მეკობრეთა მთავარი იარაღი (ძელი)?", options: ["ისრით გადატეხა", "კეტით მოსტეხა", "წყალში გადააგდო", "ხელით დაიჭირა"], correctAnswer: 1 },
          { id: 23, question: "რა უპასუხა ავთანდილმა ვაჭრებს, როცა მათ მთელი ქონება შესთავაზეს?", options: ["ყველაფერი გამოართვა", "მხოლოდ ოქრო აიღო", "თქვა, რომ სიმდიდრე არ უნდოდა და თავისიც ბევრი ჰქონდა", "ნახევარი ქონება დაიტოვა"], correctAnswer: 2 },
          { id: 24, question: "რა სთხოვა ავთანდილმა ვაჭრებს ქალაქში შესვლის წინ?", options: ["არ გაემხილათ მისი ვინაობა და ეთქვათ, რომ მათი უფროსია", "დაეცვათ იგი მტრებისგან", "ეჩვენებინათ ნესტანის ადგილი", "ეყიდათ მისთვის ახალი ტანსაცმელი"], correctAnswer: 0 },
          { id: 25, question: "რა ტანისამოსით აპირებდა ავთანდილი ქალაქში შესვლას?", options: ["რაინდულად", "ვაჭრულად", "გლახაკურად", "უხილავად"], correctAnswer: 1 }
        ];

        function App() {
          const [state, setState] = useState({
            currentQuestionIndex: 0,
            score: 0,
            showResults: false,
            userAnswers: [],
            isStarted: false,
            studentName: '',
          });

          const startQuiz = () => {
            if (!state.studentName.trim()) {
              alert("გთხოვთ, შეიყვანოთ სახელი და გვარი");
              return;
            }
            setState(prev => ({ ...prev, isStarted: true }));
          };

          const handleAnswer = (optionIndex) => {
            const isCorrect = optionIndex === questions[state.currentQuestionIndex].correctAnswer;
            const newScore = isCorrect ? state.score + 1 : state.score;
            const nextIndex = state.currentQuestionIndex + 1;

            setState(prev => ({
              ...prev,
              score: newScore,
              userAnswers: [...prev.userAnswers, optionIndex],
              currentQuestionIndex: nextIndex,
              showResults: nextIndex === questions.length,
            }));
          };

          const resetQuiz = () => {
            setState({
              currentQuestionIndex: 0,
              score: 0,
              showResults: false,
              userAnswers: [],
              isStarted: false,
              studentName: '',
            });
          };

          if (!state.isStarted) {
            return React.createElement('div', { className: "min-h-screen flex items-center justify-center p-4" },
              React.createElement('div', { className: "max-w-2xl w-full bg-white rounded-2xl shadow-xl p-8 text-center border border-slate-100" },
                React.createElement('h1', { className: "text-4xl font-bold text-slate-800 mb-4" }, "ვეფხისტყაოსნის ტესტი"),
                React.createElement('p', { className: "text-slate-600 mb-8 leading-relaxed" }, "ავთანდილის თავგადასავალი – არაბეთში დაბრუნებიდან ფატმანთან მისვლამდე."),
                React.createElement('div', { className: "mb-8 max-w-sm mx-auto" },
                  React.createElement('label', { className: "block text-left text-sm font-semibold text-slate-700 mb-2" }, "სახელი და გვარი"),
                  React.createElement('input', {
                    type: "text",
                    value: state.studentName,
                    onChange: (e) => setState(prev => ({ ...prev, studentName: e.target.value })),
                    placeholder: "მაგ: დავით აღმაშენებელი",
                    className: "w-full px-4 py-3 rounded-xl border-2 border-slate-100 focus:border-indigo-500 focus:outline-none transition-colors text-lg"
                  })
                ),
                React.createElement('button', {
                  onClick: startQuiz,
                  disabled: !state.studentName.trim(),
                  className: "bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed text-white px-10 py-4 rounded-xl font-bold text-lg transition-all transform hover:scale-105 shadow-lg"
                }, "ტესტის დაწყება")
              )
            );
          }

          if (state.showResults) {
            const percentage = Math.round((state.score / questions.length) * 100);
            return React.createElement('div', { className: "min-h-screen py-12 px-4" },
              React.createElement('div', { className: "max-w-2xl mx-auto bg-white rounded-2xl shadow-xl overflow-hidden" },
                React.createElement('div', { className: "bg-indigo-600 p-8 text-white text-center" },
                  React.createElement('h2', { className: "text-3xl font-bold mb-2" }, "ტესტი დასრულდა!"),
                  React.createElement('p', { className: "text-xl mb-6 text-indigo-100" }, `მოსწავლე: ${state.studentName}`),
                  React.createElement('div', { className: "text-6xl font-black mb-2" }, `${state.score} / ${questions.length}`),
                  React.createElement('p', { className: "text-indigo-100 text-lg" }, `შედეგი: ${percentage}%`)
                ),
                React.createElement('div', { className: "p-8" },
                  React.createElement('div', { className: "space-y-4 mb-8 max-h-96 overflow-y-auto pr-2 custom-scrollbar" },
                    questions.map((q, idx) => {
                      const isCorrect = state.userAnswers[idx] === q.correctAnswer;
                      return React.createElement('div', { key: q.id, className: `p-4 rounded-lg border ${isCorrect ? 'bg-green-50 border-green-100' : 'bg-red-50 border-red-100'}` },
                        React.createElement('p', { className: "font-semibold text-slate-800 mb-1" }, `${idx + 1}. ${q.question}`),
                        React.createElement('p', { className: "text-sm text-slate-500" }, `თქვენი პასუხი: `, 
                          React.createElement('span', { className: isCorrect ? 'text-green-600 font-bold' : 'text-red-600 font-bold' }, q.options[state.userAnswers[idx]])
                        ),
                        !isCorrect && React.createElement('p', { className: "text-sm text-slate-500 mt-1" }, `სწორი პასუხი: `,
                          React.createElement('span', { className: "text-green-600 font-bold" }, q.options[q.correctAnswer])
                        )
                      );
                    })
                  ),
                  React.createElement('button', { onClick: resetQuiz, className: "w-full bg-indigo-600 hover:bg-indigo-700 text-white py-4 rounded-xl font-bold text-lg transition-all" }, "მთავარზე დაბრუნება")
                )
              )
            );
          }

          const currentQuestion = questions[state.currentQuestionIndex];
          const progress = ((state.currentQuestionIndex + 1) / questions.length) * 100;

          return React.createElement('div', { className: "min-h-screen py-12 px-4" },
            React.createElement('div', { className: "max-w-3xl mx-auto" },
              React.createElement('div', { className: "mb-8" },
                React.createElement('div', { className: "flex justify-between items-end mb-2" },
                  React.createElement('div', null,
                    React.createElement('div', { className: "flex items-center space-x-2 mb-1" },
                      React.createElement('span', { className: "bg-indigo-100 text-indigo-700 px-2 py-0.5 rounded text-xs font-bold" }, `მოსწავლე: ${state.studentName}`),
                      React.createElement('span', { className: "text-indigo-600 font-bold text-sm" }, `კითხვა ${state.currentQuestionIndex + 1}-25`)
                    ),
                    React.createElement('h2', { className: "text-2xl font-bold text-slate-800" }, "ვეფხისტყაოსნის ტესტი")
                  ),
                  React.createElement('span', { className: "text-slate-400" }, `${Math.round(progress)}%`)
                ),
                React.createElement('div', { className: "h-2 w-full bg-slate-200 rounded-full overflow-hidden" },
                  React.createElement('div', { className: "h-full bg-indigo-600 transition-all duration-300", style: { width: `${progress}%` } })
                )
              ),
              React.createElement('div', { className: "bg-white rounded-3xl shadow-xl p-8 md:p-12 border border-slate-100" },
                React.createElement('h3', { className: "text-xl md:text-2xl font-bold text-slate-800 mb-10" }, currentQuestion.question),
                React.createElement('div', { className: "grid grid-cols-1 gap-4" },
                  currentQuestion.options.map((option, idx) => 
                    React.createElement('button', {
                      key: idx,
                      onClick: () => handleAnswer(idx),
                      className: "group flex items-center p-5 rounded-2xl border-2 border-slate-100 hover:border-indigo-600 hover:bg-indigo-50 transition-all text-left"
                    },
                      React.createElement('div', { className: "w-10 h-10 rounded-xl bg-slate-100 group-hover:bg-indigo-600 group-hover:text-white flex items-center justify-center font-bold text-slate-500 mr-4" }, String.fromCharCode(65 + idx)),
                      React.createElement('span', { className: "text-lg font-medium text-slate-700 group-hover:text-indigo-900" }, option)
                    )
                  )
                )
              )
            )
          );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(React.createElement(App));
    </script>
<script type="module" src="/index.tsx"></script>
</body>
</html>
